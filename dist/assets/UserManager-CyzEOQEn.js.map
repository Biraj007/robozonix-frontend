{"version":3,"file":"UserManager-CyzEOQEn.js","sources":["../../src/pages/Admin/UserManager.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { \r\n  FiUsers, FiSearch, FiShield, FiTrash2, FiEdit2,\r\n  FiCalendar, FiCheck, FiX, FiAlertCircle, FiUser\r\n} from 'react-icons/fi';\r\nimport api from '../../services/api';\r\n\r\nconst PERMISSIONS = [\r\n  { key: 'blogs', label: 'Blogs' },\r\n  { key: 'events', label: 'Events' },\r\n  { key: 'courses', label: 'Courses' },\r\n  { key: 'projects', label: 'Projects' },\r\n  { key: 'facilities', label: 'Facilities' },\r\n  { key: 'users', label: 'Users' },\r\n  { key: 'settings', label: 'Settings' },\r\n];\r\n\r\nconst UserManager = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [confirmModal, setConfirmModal] = useState({ show: false, action: null, user: null });\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [selectedRole, setSelectedRole] = useState('user');\r\n  const [selectedPermissions, setSelectedPermissions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await api.get('/admin/users');\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      showMessage('error', 'Failed to load users');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const showMessage = (type, text) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage({ type: '', text: '' }), 5000);\r\n  };\r\n\r\n  const openEditModal = (user) => {\r\n    setEditingUser(user);\r\n    setSelectedRole(user.role || 'user');\r\n    setSelectedPermissions(user.permissions || []);\r\n  };\r\n\r\n  const handleSaveRole = async () => {\r\n    try {\r\n      await api.put(`/admin/users/${editingUser._id}/role`, { \r\n        role: selectedRole,\r\n        permissions: selectedRole === 'editor' ? selectedPermissions : []\r\n      });\r\n      showMessage('success', `${editingUser.name}'s role updated successfully`);\r\n      fetchUsers();\r\n      setEditingUser(null);\r\n    } catch (error) {\r\n      showMessage('error', error.response?.data?.message || 'Failed to update role');\r\n    }\r\n  };\r\n\r\n  const togglePermission = (permission) => {\r\n    setSelectedPermissions(prev => \r\n      prev.includes(permission)\r\n        ? prev.filter(p => p !== permission)\r\n        : [...prev, permission]\r\n    );\r\n  };\r\n\r\n  const handleDeleteUser = async (user) => {\r\n    try {\r\n      await api.delete(`/admin/users/${user._id}`);\r\n      showMessage('success', `User ${user.name} has been deleted`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      showMessage('error', error.response?.data?.message || 'Failed to delete user');\r\n    }\r\n    setConfirmModal({ show: false, action: null, user: null });\r\n  };\r\n\r\n  const filteredUsers = users.filter(user => \r\n    user.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    user.email?.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const getRoleBadgeClass = (role) => {\r\n    switch(role) {\r\n      case 'admin': return 'status-badge published';\r\n      case 'editor': return 'status-badge active';\r\n      default: return 'status-badge draft';\r\n    }\r\n  };\r\n\r\n  const getRoleEmoji = (role) => {\r\n    switch(role) {\r\n      case 'admin': return 'üõ°Ô∏è';\r\n      case 'editor': return '‚úèÔ∏è';\r\n      default: return 'üë§';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"admin-header\">\r\n        <h1 className=\"admin-title\">User Management</h1>\r\n        <div style={{ color: 'var(--text-secondary)' }}>\r\n          {users.length} total users\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message Toast */}\r\n      {message.text && (\r\n        <div className={`settings-toast ${message.type}`}>\r\n          {message.type === 'success' ? <FiCheck /> : <FiAlertCircle />}\r\n          {message.text}\r\n        </div>\r\n      )}\r\n\r\n      {/* Search */}\r\n      <div style={{ marginBottom: 24, position: 'relative', maxWidth: 400 }}>\r\n        <FiSearch style={{ position: 'absolute', left: 16, top: '50%', transform: 'translateY(-50%)', color: 'var(--text-muted)' }} />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search users by name or email...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          style={{\r\n            width: '100%',\r\n            padding: '12px 16px 12px 44px',\r\n            background: 'var(--bg-secondary)',\r\n            border: '1px solid var(--border-primary)',\r\n            borderRadius: 'var(--radius-md)',\r\n            color: 'var(--text-primary)'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"stats-grid\" style={{ marginBottom: 24 }}>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <FiUsers />\r\n          </div>\r\n          <div className=\"stat-value\">{users.length}</div>\r\n          <div className=\"stat-label\">Total Users</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ background: 'rgba(0, 245, 160, 0.1)', color: 'var(--accent-green)' }}>\r\n            <FiShield />\r\n          </div>\r\n          <div className=\"stat-value\">{users.filter(u => u.role === 'admin').length}</div>\r\n          <div className=\"stat-label\">Admins</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ background: 'rgba(123, 97, 255, 0.1)', color: '#7b61ff' }}>\r\n            <FiEdit2 />\r\n          </div>\r\n          <div className=\"stat-value\">{users.filter(u => u.role === 'editor').length}</div>\r\n          <div className=\"stat-label\">Editors</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ background: 'rgba(255, 107, 53, 0.1)', color: 'var(--accent-orange)' }}>\r\n            <FiUser />\r\n          </div>\r\n          <div className=\"stat-value\">{users.filter(u => u.membership && u.membership !== 'None').length}</div>\r\n          <div className=\"stat-label\">Members</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Users Table */}\r\n      {loading ? (\r\n        <div className=\"empty-state\">Loading users...</div>\r\n      ) : filteredUsers.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <FiUsers />\r\n          <p>No users found</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"content-table-wrapper\">\r\n          <table className=\"content-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>User</th>\r\n                <th>Email</th>\r\n                <th>Role</th>\r\n                <th>Permissions</th>\r\n                <th>Joined</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredUsers.map((user) => (\r\n                <tr key={user._id}>\r\n                  <td>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n                      <div style={{\r\n                        width: 36,\r\n                        height: 36,\r\n                        borderRadius: '50%',\r\n                        background: 'var(--accent-gradient)',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        color: 'var(--bg-primary)',\r\n                        fontWeight: 600\r\n                      }}>\r\n                        {user.name?.charAt(0).toUpperCase() || 'U'}\r\n                      </div>\r\n                      <span>{user.name}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <a href={`mailto:${user.email}`} style={{ color: 'var(--accent-cyan)', textDecoration: 'none' }}>\r\n                      {user.email}\r\n                    </a>\r\n                  </td>\r\n                  <td>\r\n                    <span className={getRoleBadgeClass(user.role)}>\r\n                      {getRoleEmoji(user.role)} {user.role?.charAt(0).toUpperCase() + user.role?.slice(1)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    {user.role === 'editor' && user.permissions?.length > 0 ? (\r\n                      <div style={{ display: 'flex', gap: 4, flexWrap: 'wrap' }}>\r\n                        {user.permissions.map(p => (\r\n                          <span key={p} style={{\r\n                            fontSize: '0.75rem',\r\n                            padding: '2px 6px',\r\n                            background: 'rgba(0, 229, 255, 0.1)',\r\n                            borderRadius: 4,\r\n                            color: 'var(--accent-cyan)'\r\n                          }}>{p}</span>\r\n                        ))}\r\n                      </div>\r\n                    ) : user.role === 'admin' ? (\r\n                      <span style={{ color: 'var(--accent-green)', fontSize: '0.85rem' }}>All</span>\r\n                    ) : (\r\n                      <span style={{ color: 'var(--text-muted)', fontSize: '0.85rem' }}>‚Äî</span>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    {new Date(user.createdAt).toLocaleDateString()}\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"table-actions\">\r\n                      <button \r\n                        className=\"action-btn\"\r\n                        title=\"Edit Role & Permissions\"\r\n                        onClick={() => openEditModal(user)}\r\n                      >\r\n                        <FiEdit2 />\r\n                      </button>\r\n                      <button \r\n                        className=\"action-btn delete\"\r\n                        title=\"Delete User\"\r\n                        onClick={() => setConfirmModal({ show: true, action: 'delete', user })}\r\n                      >\r\n                        <FiTrash2 />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Role Modal */}\r\n      {editingUser && (\r\n        <div className=\"modal-overlay\" onClick={() => setEditingUser(null)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: 500 }}>\r\n            <div className=\"modal-header\">\r\n              <h2 className=\"modal-title\">Edit Role & Permissions</h2>\r\n              <button className=\"modal-close\" onClick={() => setEditingUser(null)}>\r\n                <FiX />\r\n              </button>\r\n            </div>\r\n            \r\n            <p style={{ color: 'var(--text-secondary)', marginBottom: 20 }}>\r\n              Editing: <strong>{editingUser.name}</strong>\r\n            </p>\r\n\r\n            {/* Role Selection */}\r\n            <div className=\"form-group\">\r\n              <label>Role</label>\r\n              <div style={{ display: 'flex', gap: 12 }}>\r\n                {['user', 'editor', 'admin'].map(role => (\r\n                  <button\r\n                    key={role}\r\n                    type=\"button\"\r\n                    onClick={() => setSelectedRole(role)}\r\n                    style={{\r\n                      flex: 1,\r\n                      padding: '12px',\r\n                      background: selectedRole === role ? 'var(--accent-gradient)' : 'var(--bg-secondary)',\r\n                      border: `1px solid ${selectedRole === role ? 'transparent' : 'var(--border-primary)'}`,\r\n                      borderRadius: 'var(--radius-md)',\r\n                      color: selectedRole === role ? 'var(--bg-primary)' : 'var(--text-primary)',\r\n                      cursor: 'pointer',\r\n                      fontWeight: selectedRole === role ? 600 : 400\r\n                    }}\r\n                  >\r\n                    {getRoleEmoji(role)} {role.charAt(0).toUpperCase() + role.slice(1)}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Permissions (only for editor role) */}\r\n            {selectedRole === 'editor' && (\r\n              <div className=\"form-group\">\r\n                <label>Permissions</label>\r\n                <p style={{ fontSize: '0.85rem', color: 'var(--text-muted)', marginBottom: 12 }}>\r\n                  Select which sections this editor can manage:\r\n                </p>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: 8 }}>\r\n                  {PERMISSIONS.map(perm => (\r\n                    <label \r\n                      key={perm.key}\r\n                      style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: 6,\r\n                        padding: '10px 12px',\r\n                        background: selectedPermissions.includes(perm.key) ? 'rgba(0, 229, 255, 0.1)' : 'var(--bg-secondary)',\r\n                        border: `1px solid ${selectedPermissions.includes(perm.key) ? 'var(--accent-cyan)' : 'var(--border-primary)'}`,\r\n                        borderRadius: 'var(--radius-md)',\r\n                        cursor: 'pointer',\r\n                        whiteSpace: 'nowrap'\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedPermissions.includes(perm.key)}\r\n                        onChange={() => togglePermission(perm.key)}\r\n                        style={{ accentColor: 'var(--accent-cyan)', width: 18, height: 18, cursor: 'pointer' }}\r\n                      />\r\n                      {perm.label}\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            <div style={{ display: 'flex', gap: 12, marginTop: 24 }}>\r\n              <button \r\n                className=\"btn btn-primary\"\r\n                onClick={handleSaveRole}\r\n                disabled={selectedRole === 'editor' && selectedPermissions.length === 0}\r\n              >\r\n                Save Changes\r\n              </button>\r\n              <button \r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setEditingUser(null)}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {confirmModal.show && (\r\n        <div className=\"modal-overlay\" onClick={() => setConfirmModal({ show: false, action: null, user: null })}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: 400 }}>\r\n            <div className=\"modal-header\">\r\n              <h2 className=\"modal-title\">Delete User?</h2>\r\n              <button className=\"modal-close\" onClick={() => setConfirmModal({ show: false, action: null, user: null })}>\r\n                <FiX />\r\n              </button>\r\n            </div>\r\n            \r\n            <p style={{ color: 'var(--text-secondary)', marginBottom: 24 }}>\r\n              Are you sure you want to delete <strong>{confirmModal.user?.name}</strong>? This action cannot be undone.\r\n            </p>\r\n            \r\n            <div style={{ display: 'flex', gap: 12 }}>\r\n              <button \r\n                className=\"btn btn-danger\"\r\n                onClick={() => handleDeleteUser(confirmModal.user)}\r\n              >\r\n                Delete\r\n              </button>\r\n              <button \r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setConfirmModal({ show: false, action: null, user: null })}\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManager;\r\n"],"names":["PERMISSIONS","key","label","UserManager","users","setUsers","useState","loading","setLoading","searchTerm","setSearchTerm","message","setMessage","type","text","confirmModal","setConfirmModal","show","action","user","editingUser","setEditingUser","selectedRole","setSelectedRole","selectedPermissions","setSelectedPermissions","useEffect","fetchUsers","async","response","api","get","data","error","showMessage","setTimeout","filteredUsers","filter","name","toLowerCase","includes","email","getRoleBadgeClass","role","getRoleEmoji","children","jsxs","className","jsx","style","color","length","FiCheck","FiAlertCircle","marginBottom","position","maxWidth","FiSearch","left","top","transform","placeholder","value","onChange","e","target","width","padding","background","border","borderRadius","FiUsers","FiShield","u","FiEdit2","FiUser","membership","map","display","alignItems","gap","height","justifyContent","fontWeight","charAt","toUpperCase","href","textDecoration","slice","permissions","flexWrap","p","fontSize","Date","createdAt","toLocaleDateString","title","onClick","openEditModal","FiTrash2","_id","stopPropagation","FiX","flex","cursor","gridTemplateColumns","perm","whiteSpace","checked","togglePermission","permission","prev","accentColor","marginTop","put","disabled","delete","handleDeleteUser"],"mappings":"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"}