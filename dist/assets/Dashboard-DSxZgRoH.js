import{j as s,m as a}from"./ui-B79sv0Rh.js";import{f as e,L as i}from"./vendor-BefrSIwx.js";import{K as n,Q as l,q as t,p as c,R as r,v as d,S as o,T as m}from"./index-DpUjF_p5.js";import{f as h,s as j}from"./animations-COfW1wfS.js";import"./drei-Bucn9VWY.js";import"./three-DVpoEhjm.js";const x=()=>{const{user:x,logout:p,isAuthenticated:N}=n(),v=e();if(!N)return v("/login"),null;const u={name:x?.name||"User",email:x?.email||"",plan:"None"===x?.membership?"Free Plan":x?.membership+" Plan",memberSince:new Date(x?.createdAt||Date.now()).toLocaleDateString("en-US",{month:"short",year:"numeric"})},b=x?.enrolledCourses||[],g=x?.bookings||[],f=x?.certificates||[],w=x?.labHoursUsed||0,y=x?.labHoursTotal||20;return s.jsx("div",{className:"dashboard-page",children:s.jsx("div",{className:"dashboard-container",children:s.jsxs("main",{className:"dashboard-main",children:[s.jsxs(a.h1,{initial:"hidden",animate:"visible",variants:h,className:"dashboard-heading",children:["Welcome back, ",u.name,s.jsx("span",{className:"plan-badge-large",children:u.plan})]}),s.jsxs(a.div,{className:"stats-grid",variants:j,initial:"hidden",animate:"visible",children:[s.jsxs(a.div,{className:"stat-card",variants:h,children:[s.jsx("div",{className:"stat-icon",children:s.jsx(l,{})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-label",children:"Current Plan"}),s.jsx("span",{className:"stat-value",children:u.plan})]})]}),s.jsxs(a.div,{className:"stat-card",variants:h,children:[s.jsx("div",{className:"stat-icon",children:s.jsx(t,{})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-label",children:"Lab Hours Used"}),s.jsxs("span",{className:"stat-value",children:[w,"/",y," ",s.jsx("span",{className:"stat-unit",children:"hrs"})]}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:w/y*100+"%"}})})]})]}),s.jsxs(a.div,{className:"stat-card",variants:h,children:[s.jsx("div",{className:"stat-icon",children:s.jsx(c,{})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-label",children:"Courses"}),s.jsxs("span",{className:"stat-value",children:[b.length," ",s.jsx("span",{className:"stat-unit",children:"Active"})]})]})]}),s.jsxs(a.div,{className:"stat-card",variants:h,children:[s.jsx("div",{className:"stat-icon",children:s.jsx(r,{})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-label",children:"Certificates"}),s.jsxs("span",{className:"stat-value",children:[f.length," ",s.jsx("span",{className:"stat-unit",children:"Earned"})]})]})]})]}),s.jsxs(a.section,{className:"dashboard-section",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:h,children:[s.jsx("h2",{children:"My Courses"}),b.length>0?s.jsx("div",{className:"courses-list",children:b.map((a,e)=>s.jsxs("div",{className:"course-item",children:[s.jsxs("div",{className:"course-info",children:[s.jsx("h4",{children:a.title}),s.jsx("span",{className:`course-status ${a.status?.toLowerCase().replace(" ","-")}`,children:a.status})]}),s.jsxs("div",{className:"course-progress",children:[s.jsxs("span",{children:[a.progress,"%"]}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${a.progress}%`}})})]})]},e))}):s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:"You haven't enrolled in any courses yet."}),s.jsx(i,{to:"/courses",className:"btn btn-primary",style:{marginTop:"10px"},children:"Browse Courses"})]})]}),s.jsxs(a.section,{className:"dashboard-section",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:h,children:[s.jsx("h2",{children:"Upcoming Lab Bookings"}),g.length>0?s.jsx("div",{className:"bookings-list",children:g.map((a,e)=>s.jsxs("div",{className:"booking-item",children:[s.jsxs("div",{className:"booking-date",children:[s.jsx(d,{}),s.jsx("span",{children:a.date})]}),s.jsxs("div",{className:"booking-details",children:[s.jsx("strong",{children:a.lab}),s.jsx("span",{children:a.time})]}),s.jsx("span",{className:`booking-status badge ${a.status?.toLowerCase()}`,children:a.status})]},e))}):s.jsx("p",{className:"no-data-msg",children:"No upcoming bookings."}),s.jsx(i,{to:"/facilities",className:"btn btn-outline",style:{marginTop:"20px",display:"inline-flex"},children:"Book New Session"})]}),s.jsxs(a.section,{className:"dashboard-section",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:h,children:[s.jsx("h2",{children:"My Certificates"}),f.length>0?s.jsx("div",{className:"certificates-list",children:f.map((a,e)=>s.jsxs("div",{className:"certificate-item",children:[s.jsx(r,{className:"cert-icon"}),s.jsxs("div",{className:"cert-info",children:[s.jsx("h4",{children:a.title}),s.jsxs("span",{children:["Issued: ",a.date]})]}),s.jsxs("button",{className:"btn btn-outline",children:[s.jsx(o,{})," Download"]})]},e))}):s.jsx("p",{className:"no-data-msg",children:"No certificates earned yet."})]}),s.jsx(a.div,{className:"dashboard-logout-container",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:h,style:{marginTop:"40px",display:"flex",justifyContent:"center"},children:s.jsxs("button",{className:"logout-btn-large",onClick:()=>{p(),v("/")},children:[s.jsx(m,{})," Logout"]})})]})})})};export{x as default};
//# sourceMappingURL=Dashboard-DSxZgRoH.js.map
