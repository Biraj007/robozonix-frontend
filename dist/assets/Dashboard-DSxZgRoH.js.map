{"version":3,"file":"Dashboard-DSxZgRoH.js","sources":["../../src/pages/Dashboard/Dashboard.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport {\n  FiCreditCard,\n  FiBook,\n  FiCalendar,\n  FiDownload,\n  FiLogOut,\n  FiClock,\n  FiAward,\n} from \"react-icons/fi\";\nimport { fadeInUp, staggerContainer } from \"../../utils/animations\";\nimport \"./Dashboard.css\";\n\nconst Dashboard = () => {\n  const { user, logout, isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n\n  // Redirect if not logged in\n  if (!isAuthenticated) {\n    navigate('/login');\n    return null;\n  }\n\n  // User data with real info\n  const userData = {\n    name: user?.name || \"User\",\n    email: user?.email || \"\",\n    plan: user?.membership === \"None\" ? \"Free Plan\" : user?.membership + \" Plan\",\n    memberSince: new Date(user?.createdAt || Date.now()).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }),\n    labHoursUsed: 18,\n    labHoursTotal: 30,\n  };\n\n\n\n  // Handle logout\n  const handleLogout = () => {\n    logout();\n    navigate('/');\n  };\n\n  // Get user initials for avatar\n  const getInitials = (name) => {\n    if (!name) return \"U\";\n    const parts = name.split(\" \");\n    if (parts.length >= 2) {\n      return (parts[0][0] + parts[1][0]).toUpperCase();\n    }\n    return name[0].toUpperCase();\n  };\n\n  // User data with fallback\n  const enrolledCourses = user?.enrolledCourses || [];\n  const bookings = user?.bookings || [];\n  const certificates = user?.certificates || [];\n  const labHoursUsed = user?.labHoursUsed || 0;\n  const labHoursTotal = user?.labHoursTotal || 20;\n\n  return (\n    <div className=\"dashboard-page\">\n      {/* Mobile Header */}\n      <div className=\"dashboard-container\">\n\n\n        {/* Main Content */}\n        <main className=\"dashboard-main\">\n          <motion.h1\n            initial=\"hidden\"\n            animate=\"visible\"\n            variants={fadeInUp}\n            className=\"dashboard-heading\"\n          >\n            Welcome back, {userData.name}\n            <span className=\"plan-badge-large\">{userData.plan}</span>\n          </motion.h1>\n\n          {/* Stats Grid */}\n          <motion.div \n            className=\"stats-grid\"\n            variants={staggerContainer}\n            initial=\"hidden\"\n            animate=\"visible\"\n          >\n            <motion.div className=\"stat-card\" variants={fadeInUp}>\n              <div className=\"stat-icon\">\n                <FiCreditCard />\n              </div>\n              <div className=\"stat-content\">\n                <span className=\"stat-label\">Current Plan</span>\n                <span className=\"stat-value\">{userData.plan}</span>\n              </div>\n            </motion.div>\n            <motion.div className=\"stat-card\" variants={fadeInUp}>\n              <div className=\"stat-icon\">\n                <FiClock />\n              </div>\n              <div className=\"stat-content\">\n                <span className=\"stat-label\">Lab Hours Used</span>\n                <span className=\"stat-value\">\n                  {labHoursUsed}/{labHoursTotal} <span className=\"stat-unit\">hrs</span>\n                </span>\n                <div className=\"progress-bar\">\n                  <div\n                    className=\"progress-fill\"\n                    style={{\n                      width: `${(labHoursUsed / labHoursTotal) * 100}%`,\n                    }}\n                  ></div>\n                </div>\n              </div>\n            </motion.div>\n            <motion.div className=\"stat-card\" variants={fadeInUp}>\n              <div className=\"stat-icon\">\n                <FiBook />\n              </div>\n              <div className=\"stat-content\">\n                <span className=\"stat-label\">Courses</span>\n                <span className=\"stat-value\">{enrolledCourses.length} <span className=\"stat-unit\">Active</span></span>\n              </div>\n            </motion.div>\n            <motion.div className=\"stat-card\" variants={fadeInUp}>\n              <div className=\"stat-icon\">\n                <FiAward />\n              </div>\n              <div className=\"stat-content\">\n                <span className=\"stat-label\">Certificates</span>\n                <span className=\"stat-value\">{certificates.length} <span className=\"stat-unit\">Earned</span></span>\n              </div>\n            </motion.div>\n          </motion.div>\n\n          {/* My Courses */}\n          <motion.section \n            className=\"dashboard-section\"\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true, amount: 0.1 }}\n            variants={fadeInUp}\n          >\n            <h2>My Courses</h2>\n            {enrolledCourses.length > 0 ? (\n              <div className=\"courses-list\">\n                {enrolledCourses.map((course, index) => (\n                  <div key={index} className=\"course-item\">\n                    <div className=\"course-info\">\n                      <h4>{course.title}</h4>\n                      <span\n                        className={`course-status ${course.status?.toLowerCase().replace(\" \", \"-\")}`}\n                      >\n                        {course.status}\n                      </span>\n                    </div>\n                    <div className=\"course-progress\">\n                      <span>{course.progress}%</span>\n                      <div className=\"progress-bar\">\n                        <div\n                          className=\"progress-fill\"\n                          style={{ width: `${course.progress}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n             <div className=\"empty-state\">\n               <p>You haven't enrolled in any courses yet.</p>\n               <Link to=\"/courses\" className=\"btn btn-primary\" style={{marginTop: '10px'}}>Browse Courses</Link>\n             </div>\n            )}\n          </motion.section>\n\n          {/* Lab Bookings */}\n          <motion.section \n            className=\"dashboard-section\"\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true, amount: 0.1 }}\n            variants={fadeInUp}\n          >\n            <h2>Upcoming Lab Bookings</h2>\n            {bookings.length > 0 ? (\n              <div className=\"bookings-list\">\n                {bookings.map((booking, index) => (\n                  <div key={index} className=\"booking-item\">\n                    <div className=\"booking-date\">\n                      <FiCalendar />\n                      <span>{booking.date}</span>\n                    </div>\n                    <div className=\"booking-details\">\n                      <strong>{booking.lab}</strong>\n                      <span>{booking.time}</span>\n                    </div>\n                    <span\n                      className={`booking-status badge ${booking.status?.toLowerCase()}`}\n                    >\n                      {booking.status}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"no-data-msg\">No upcoming bookings.</p>\n            )}\n            <Link to=\"/facilities\" className=\"btn btn-outline\" style={{ marginTop: '20px', display: 'inline-flex' }}>\n              Book New Session\n            </Link>\n          </motion.section>\n\n          {/* Certificates */}\n          <motion.section \n            className=\"dashboard-section\"\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true, amount: 0.1 }}\n            variants={fadeInUp}\n          >\n            <h2>My Certificates</h2>\n            {certificates.length > 0 ? (\n              <div className=\"certificates-list\">\n                {certificates.map((cert, index) => (\n                  <div key={index} className=\"certificate-item\">\n                    <FiAward className=\"cert-icon\" />\n                    <div className=\"cert-info\">\n                      <h4>{cert.title}</h4>\n                      <span>Issued: {cert.date}</span>\n                    </div>\n                    <button className=\"btn btn-outline\">\n                      <FiDownload /> Download\n                    </button>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"no-data-msg\">No certificates earned yet.</p>\n            )}\n          </motion.section>\n          <motion.div \n            className=\"dashboard-logout-container\"\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true }}\n            variants={fadeInUp}\n            style={{ marginTop: '40px', display: 'flex', justifyContent: 'center' }}\n          >\n             <button className=\"logout-btn-large\" onClick={handleLogout}>\n               <FiLogOut /> Logout\n             </button>\n          </motion.div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"names":["Dashboard","user","logout","isAuthenticated","useAuth","navigate","useNavigate","userData","name","email","plan","membership","memberSince","Date","createdAt","now","toLocaleDateString","month","year","enrolledCourses","bookings","certificates","labHoursUsed","labHoursTotal","jsx","className","children","jsxs","motion","h1","initial","animate","variants","fadeInUp","div","staggerContainer","FiCreditCard","FiClock","style","width","FiBook","length","FiAward","section","whileInView","viewport","once","amount","map","course","index","title","status","toLowerCase","replace","progress","Link","to","marginTop","booking","FiCalendar","date","lab","time","display","cert","FiDownload","justifyContent","onClick","FiLogOut"],"mappings":"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"}