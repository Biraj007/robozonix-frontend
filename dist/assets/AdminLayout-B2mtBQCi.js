import{j as s}from"./ui-B79sv0Rh.js";import{u as a,f as e,r as i,L as n,O as l}from"./vendor-BefrSIwx.js";import{K as o,U as t,V as r,v as c,p as d,W as m,a as h,j as p,X as j,G as x,Y as b,Z as u,T as v}from"./index-DpUjF_p5.js";/* empty css              */import"./drei-Bucn9VWY.js";import"./three-DVpoEhjm.js";const N=()=>{const N=a(),f=e(),{user:g,logout:k}=o(),C=g&&("admin"===g.role||"editor"===g.role),O=s=>"admin"===g?.role||"editor"===g?.role&&g.permissions?.includes(s);i.useEffect(()=>{g?C||f("/dashboard"):f("/login")},[g,f,C]);const y=[{path:"/admin",icon:t,label:"Dashboard",exact:!0,permission:null},{path:"/admin/blogs",icon:r,label:"Blogs",permission:"blogs"},{path:"/admin/events",icon:c,label:"Events",permission:"events"},{path:"/admin/courses",icon:d,label:"Courses",permission:"courses"},{path:"/admin/projects",icon:m,label:"Projects",permission:"projects"},{path:"/admin/facilities",icon:h,label:"Facilities",permission:"facilities"},{path:"/admin/users",icon:p,label:"Users",permission:"users"},{path:"/admin/chatbot",icon:j,label:"Chatbot",permission:"chatbot"}].filter(s=>null===s.permission||O(s.permission)),A=(s,a=!1)=>a?N.pathname===s:N.pathname.startsWith(s),[B,E]=i.useState(!1),I=()=>E(!1);return i.useEffect(()=>{I()},[N.pathname]),g&&C?s.jsxs("div",{className:"admin-layout",children:[s.jsxs("div",{className:"mobile-admin-header",children:[s.jsx("button",{className:"mobile-toggle-btn",onClick:()=>E(!B),children:B?s.jsx(x,{}):s.jsx(b,{})}),s.jsxs("div",{className:"mobile-brand",children:[s.jsx(u,{size:20}),s.jsx("span",{children:"ROBOZONIX"})]})]}),B&&s.jsx("div",{className:"sidebar-overlay",onClick:I}),s.jsxs("aside",{className:"admin-sidebar "+(B?"open":""),children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs(n,{to:"/",className:"admin-logo",children:[s.jsx(u,{size:24}),s.jsx("h2",{children:"ROBOZONIX ADMIN"})]}),s.jsx("button",{className:"close-sidebar-btn",onClick:I,children:s.jsx(x,{})})]}),s.jsxs("nav",{className:"admin-nav",children:[s.jsxs("div",{className:"nav-section",children:[s.jsx("span",{className:"nav-section-title",children:"Management"}),y.map(a=>s.jsxs(n,{to:a.path,className:"admin-nav-link "+(A(a.path,a.exact)?"active":""),onClick:I,children:[s.jsx(a.icon,{}),s.jsx("span",{children:a.label})]},a.path))]}),s.jsxs("div",{className:"nav-section",children:[s.jsx("span",{className:"nav-section-title",children:"Account"}),s.jsxs("button",{onClick:()=>{k(),f("/")},className:"admin-nav-link",style:{width:"100%",textAlign:"left",border:"none",background:"none",cursor:"pointer"},children:[s.jsx(v,{}),s.jsx("span",{children:"Logout"})]})]})]})]}),s.jsx("main",{className:"admin-main",children:s.jsx(l,{context:{hasPermission:O}})})]}):null};export{N as default};
//# sourceMappingURL=AdminLayout-B2mtBQCi.js.map
