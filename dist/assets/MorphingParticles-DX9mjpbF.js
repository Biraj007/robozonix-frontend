import{j as t}from"./ui-B79sv0Rh.js";import{r as o}from"./vendor-BefrSIwx.js";import{C as a,u as r,a as n,A as e,b as s,c as h}from"./three-DVpoEhjm.js";const M="undefined"!=typeof window&&(window.innerWidth<768||/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)),i=M?5e3:2e4,c=i,f=(t,o,a="y")=>{const r=Math.random()*Math.PI*2,n=(Math.random()-.5)*o;return"x"===a?[n,t*Math.cos(r),t*Math.sin(r)]:"z"===a?[t*Math.cos(r),t*Math.sin(r),n]:[t*Math.cos(r),n,t*Math.sin(r)]},l=(t,o,a,r=.1)=>{const n=Math.floor(3*Math.random()),e=Math.random()>.5?1:-1;let s=(Math.random()-.5)*t,h=(Math.random()-.5)*o,M=(Math.random()-.5)*a;return 0===n&&(s=t/2*e),1===n&&(h=o/2*e),2===n&&(M=a/2*e),[s+(Math.random()-.5)*r,h+(Math.random()-.5)*r,M+(Math.random()-.5)*r]},d=(t,o,a,r)=>{const n=Math.cos(r),e=Math.sin(r);return[t,o*n-a*e,o*e+a*n]},m=(t,o,a,r)=>{const n=Math.cos(r),e=Math.sin(r);return[t*n+a*e,o,-t*e+a*n]},u=(t,o,a,r)=>{const n=Math.cos(r),e=Math.sin(r);return[t*n-o*e,t*e+o*n,a]},p=Math.floor(.5*i),x=Math.floor((i-p)/4),y=Math.floor(.85*i),w=i-y,g=()=>{const t=[],o=1.75,a=(a,r,n)=>{const e=((t,a,r)=>{let n=m(t*o,a*o,r*o,-.6);return n=d(n[0],n[1],n[2],.2),n=u(n[0],n[1],n[2],.2),[n[0],n[1]+.5,n[2]]})(a,r,n);t.push(e[0],e[1],e[2])},r=(t,o,r,n,e=0,s=0,h=0)=>{for(let M=0;M<n;M++)a(e+(Math.random()-.5)*t,s+(Math.random()-.5)*o,h+(Math.random()-.5)*r)},n=(t,o,r,n=0,e=0,s=0,h="z")=>{for(let M=0;M<r;M++){const r=f(t*Math.sqrt(Math.random()),o,h);a(n+r[0],e+r[1],s+r[2])}},e=Math.floor(.35*i);for(let i=0;i<e;i++){const t=6*Math.random()-2;let o=.8;t<-1&&(o*=1-(-t-1)/1.5),t>1&&(o*=1-(t-1)/4),t>3&&(o=Math.max(o,.25));const r=o*Math.sqrt(Math.random()),n=6.28*Math.random();t>-.5&&t<.5&&r*Math.sin(n)>.4||a(r*Math.cos(n),r*Math.sin(n),t)}const s=Math.floor(.35*i),h=Math.floor(s/2);r(7,.15,1.4,s-h,0,-.2,.5),r(7.2,.15,1.4,h,0,1.3,.3);const M=Math.floor(.15*i),c=Math.floor(.2*M);r(.15,1.5,.15,Math.floor(c/4),2.5,.55,.5),r(.15,1.5,.15,Math.floor(c/4),-2.5,.55,.5),r(.15,1.5,.15,Math.floor(c/4),1,.55,.3),r(.15,1.5,.15,Math.floor(c/4),-1,.55,.3);const l=M-c,p=Math.floor(.4*l),x=l-p,y=Math.floor(x/2);n(.12,1.2,y,.8,-1,.8,"y"),n(.12,1.2,y,-.8,-1,.8,"y");const g=Math.floor(p/3);n(.35,.25,g,.8,-1.6,.8,"x"),n(.35,.25,g,-.8,-1.6,.8,"x"),n(.2,.15,g,0,-.6,3.8,"x");const b=Math.floor(.1*i);r(2.8,.12,1.4,Math.floor(.6*b),0,.2,3.9),r(.2,2,1.4,Math.floor(.4*b),0,1.2,3.9);for(let i=0;i<w;i++)a(0,0,0);for(;t.length<3*i;)t.push(0,0,0);return new Float32Array(t.slice(0,3*i))},b=()=>{if("undefined"==typeof document)return null;const t=document.createElement("canvas");t.width=32,t.height=32;const o=t.getContext("2d");o.beginPath(),o.arc(16,16,14,0,2*Math.PI),o.fillStyle="#ffffff",o.fill();return new h(t)},P=()=>{const a=o.useRef(),{clock:s,mouse:h,viewport:M}=r(),P=o.useMemo(()=>b(),[]),j=o.useMemo(()=>(()=>{const t=[],o=-Math.PI/8,a=(a,r,n)=>{const e=d(a,r,n,o);t.push(...e)},r=Math.floor(.4*p);for(let s=0;s<r;s++){const t=l(3,1,5.5,.1);Math.abs(t[2])>2.6&&(t[0]*=.8,t[1]*=.7),a(t[0],t[1],t[2])}const n=Math.floor((p-r)/4),e=[[1,1],[-1,1],[1,-1],[-1,-1]];for(let s=0;s<4;s++){const t=e[s][0],o=e[s][1],r=1*t,h=1.2*o,M=4.2*t,i=4.2*o;for(let e=0;e<.6*n;e++){const t=Math.random();a(r+(M-r)*t+.3*(Math.random()-.5),.3*(Math.random()-.5),h+(i-h)*t+.3*(Math.random()-.5))}for(let e=0;e<.2*n;e++){const t=f(.9,1,"y");a(M+t[0],t[1]+.4,i+t[2])}for(let e=0;e<.2*n;e++){const t=f(.3,2,"y");a(M+t[0],-1+t[1],i+t[2])}}for(;t.length<3*p;)t.push(0,0,0);return new Float32Array(t)})(),[]),[A]=o.useState((()=>{const t=[],o=Math.PI/6,a=(a,r,n)=>{let e=m(1.6*a,1.6*r,1.6*n,o);e=d(e[0],e[1],e[2],.1),t.push(e[0],e[1]+-2.5,e[2])},r=Math.floor(.25*i);for(let i=0;i<r;i++){const t=l(2.2,.6,3.5,.1);a(t[0],t[1]+.5,t[2])}const n=Math.floor(.05*i);for(let i=0;i<n;i++){const t=f(.4,1.2,"y"),o=d(t[0],t[1],t[2],-Math.PI/4);a(o[0],o[1]+1,o[2]+1.8)}const e=Math.floor(.1*i);for(let i=0;i<e;i++)if(i<.7*e){const t=2.2*Math.random();a(.8+.15*(Math.random()-.5),1+t,.15*(Math.random()-.5)-1.2)}else{const t=l(.8,.5,.6);a(.8+t[0],3.3+t[1],-1.2+t[2])}const s=i-r-n-e-0,h=[[-1.8,-1.2,-1.6],[-1.8,-1.2,.2],[-1.8,-1.2,2],[1.8,-1.2,-1.6],[1.8,-1.2,.2],[1.8,-1.2,2]],M=Math.floor(.8*s/6);let c=s-6*M;for(let i of h)for(let t=0;t<M;t++){let t=0,o=0,r=0;const n=.9,e=.8;if(Math.random()<.6){const a=Math.random()*Math.PI*2;t=(Math.random()-.5)*e,o=n*Math.cos(a),r=n*Math.sin(a)}else{const a=Math.sqrt(Math.random())*n,s=Math.random()*Math.PI*2;t=e/2*(Math.random()>.5?1:-1),o=a*Math.cos(s),r=a*Math.sin(s)}a(i[0]+t,i[1]+o,i[2]+r)}const u=(t,o,r)=>{for(let n=0;n<r;n++){const r=Math.random(),n=.15;a(t[0]+(o[0]-t[0])*r+(Math.random()-.5)*n,t[1]+(o[1]-t[1])*r+(Math.random()-.5)*n,t[2]+(o[2]-t[2])*r+(Math.random()-.5)*n)}},p=Math.floor(c/6);for(let i=0;i<6;i++){const t=h[i],o=[1.1*(t[0]>0?1:-1),.5,t[2]],a=[t[0],t[1]+1.2,t[2]];u(t,a,.5*p),u(a,o,.5*p)}for(;t.length<3*i;)t.push(0,0,0);return new Float32Array(t)})()),I=o.useMemo(()=>g(),[]),v=o.useMemo(()=>{const t=new Float32Array(4*x*3);for(let o=0;o<4;o++)for(let a=0;a<x;a++){const r=3*Math.random(),n=Math.random()>.5?0:Math.PI,e=3*(o*x+a);t[e]=r,t[e+1]=n+.15*(Math.random()-.5),t[e+2]=.1*(Math.random()-.5)}return t},[]);o.useMemo(()=>{const t=new Float32Array(3*w);for(let o=0;o<w;o++)t[3*o]=2*Math.random(),t[3*o+1]=Math.random()>.5?0:Math.PI,t[3*o+2]=.3*(Math.random()-.5);return t},[]);const z=o.useMemo(()=>new Float32Array(3*c),[]),F=o.useMemo(()=>new Float32Array(3*i),[]),S=o.useMemo(()=>new Float32Array(3*i),[]);return o.useEffect(()=>{F.set(j,0),S.set(I,0)},[j,F,I,S,z]),n(t=>{if(document.hidden)return;const o=s.getElapsedTime(),r=Math.max(document.documentElement.scrollHeight-window.innerHeight,0);let n=0;if(r>10&&(n=Math.min(Math.max(window.scrollY/r,0),1)),n<.6){const t=-Math.PI/8,a=[[4.2,4.2],[-4.2,4.2],[4.2,-4.2],[-4.2,-4.2]],r=20;for(let n=0;n<4;n++){const e=a[n][0],s=a[n][1];for(let a=0;a<x;a++){const h=3*(n*x+a),M=v[h],i=v[h+1],c=v[h+2],f=i+o*r,l=M*Math.cos(f),m=M*Math.sin(f),u=d(e+l,.8+c,s+m,t),y=3*(p+n*x+a);F[y]=u[0],F[y+1]=u[1],F[y+2]=u[2]}}}if(n>.4){const t=1.75,a=.5,r=.2,n=-.6,e=.2,s=15,h=Math.max(1,Math.floor(w/2));for(let M=0;M<w;M++){const i=(M<h?0:1)*Math.PI,c=M%h/h,f=2.2*c,l=.3*Math.sin(c*Math.PI),p=i+o*s,x=(Math.random()-.5)*l;let w=f*Math.cos(p)-x*Math.sin(p),g=f*Math.sin(p)+x*Math.cos(p),b=.05*(Math.random()-.5)-2.1,P=m(w*t,g*t,b*t,n);P=d(P[0],P[1],P[2],r),P=u(P[0],P[1],P[2],e);const j=3*(y+M);S[j]=P[0],S[j+1]=P[1]+a,S[j+2]=P[2]}}if(n<.5){const t=Math.min(2*n,1);for(let o=0;o<3*i;o++)z[o]+=.15*(F[o]*(1-t)+A[o]*t-z[o])}else{const t=Math.min(3.5*(n-.5),1);for(let o=0;o<3*i;o++)z[o]+=.15*(A[o]*(1-t)+S[o]*t-z[o])}if(a.current){a.current.geometry.attributes.position.needsUpdate=!0,a.current.rotation.y=.1*o+.2*t.mouse.x,a.current.rotation.x=.1+.1*t.mouse.y;const r=M.width<15,e=r?0:10,s=(t=>{if(t<.2)return e;if(t<.35){const o=(t-.2)/.15;return e*(1-o)+-e*o}if(t<.6)return-e;if(t<.8){const o=(t-.6)/.2;return-e*(1-o)+e*o}return e})(n);a.current.position.x+=.08*(s-a.current.position.x);const h=r?.6:1;a.current.scale.setScalar(h)}}),t.jsxs("points",{ref:a,position:[10,0,0],children:[t.jsx("bufferGeometry",{children:t.jsx("bufferAttribute",{attach:"attributes-position",count:c,array:z,itemSize:3})}),t.jsx("pointsMaterial",{size:.12,color:"#00e5ff",map:P,alphaTest:.5,transparent:!0,opacity:.8,sizeAttenuation:!0,blending:e,depthWrite:!1})]})},j=()=>{const a=o.useRef(),r=o.useMemo(()=>b(),[]),h=M?500:1500,[i,c]=o.useMemo(()=>{const t=new Float32Array(3*h),o=new Float32Array(3*h),a=[new s("#ffffff"),new s("#00e5ff"),new s("#0066ff"),new s("#88ccff")];for(let r=0;r<h;r++){const n=10+100*Math.random(),e=Math.random()*Math.PI*2,s=Math.acos(2*Math.random()-1);t[3*r]=n*Math.sin(s)*Math.cos(e),t[3*r+1]=n*Math.sin(s)*Math.sin(e),t[3*r+2]=n*Math.cos(s);const h=a[Math.floor(Math.random()*a.length)];o[3*r]=h.r,o[3*r+1]=h.g,o[3*r+2]=h.b}return[t,o]},[]);return n((t,o)=>{document.hidden||a.current&&(a.current.rotation.y-=.05*o,a.current.rotation.x+=.01*o)}),t.jsxs("points",{ref:a,children:[t.jsxs("bufferGeometry",{children:[t.jsx("bufferAttribute",{attach:"attributes-position",count:h,array:i,itemSize:3}),t.jsx("bufferAttribute",{attach:"attributes-color",count:h,array:c,itemSize:3})]}),t.jsx("pointsMaterial",{size:.25,vertexColors:!0,map:r,alphaTest:.5,transparent:!0,opacity:.6,sizeAttenuation:!0,depthWrite:!1,blending:e})]})},A=()=>t.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:-1,pointerEvents:"none",background:"#0a0a14"},children:t.jsxs(a,{camera:{position:[0,0,22],fov:50},gl:{antialias:!1,alpha:!0,powerPreference:"high-performance"},dpr:Math.min(window.devicePixelRatio,1.5),children:[t.jsx("color",{attach:"background",args:["#0a0a14"]}),t.jsx(P,{}),t.jsx(j,{})]})});export{A as default};
//# sourceMappingURL=MorphingParticles-DX9mjpbF.js.map
