import{j as e}from"./ui-B79sv0Rh.js";import{h as s,r as t}from"./vendor-BefrSIwx.js";import{n as r,_ as a,x as i,p as l,$ as n,a0 as o,G as c,a1 as d}from"./index-DpUjF_p5.js";import"./drei-Bucn9VWY.js";import"./three-DVpoEhjm.js";const u=()=>{const[u]=s(),[h,p]=t.useState([]),[m,x]=t.useState(!0),[j,v]=t.useState(!1),[g,b]=t.useState(null),[y,f]=t.useState(""),[N,C]=t.useState({title:"",description:"",shortDescription:"",category:"Robotics",level:"Beginner",duration:"",totalHours:0,coverImage:"",prerequisites:"",skills:"",price:0,discountPrice:0,instructor:"",maxStudents:20,status:"draft",featured:!1});t.useEffect(()=>{w(),"new"===u.get("action")&&v(!0)},[u]);const w=async()=>{try{const e=await r.get("/admin/courses");p(e.data)}catch(e){}finally{x(!1)}},k=()=>{v(!1),b(null),C({title:"",description:"",shortDescription:"",category:"Robotics",level:"Beginner",duration:"",totalHours:0,coverImage:"",prerequisites:"",skills:"",price:0,discountPrice:0,instructor:"",maxStudents:20,status:"draft",featured:!1})},S=h.filter(e=>e.title.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{children:[e.jsxs("div",{className:"admin-header",children:[e.jsx("h1",{className:"admin-title",children:"Course Management"}),e.jsx("div",{className:"admin-actions",children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>v(!0),children:[e.jsx(a,{})," Add Course"]})})]}),e.jsxs("div",{style:{marginBottom:24,position:"relative",maxWidth:400},children:[e.jsx(i,{style:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:y,onChange:e=>f(e.target.value),style:{width:"100%",padding:"12px 16px 12px 44px",background:"var(--bg-secondary)",border:"1px solid var(--border-primary)",borderRadius:"var(--radius-md)",color:"var(--text-primary)"}})]}),m?e.jsx("div",{className:"empty-state",children:"Loading..."}):0===S.length?e.jsxs("div",{className:"empty-state",children:[e.jsx(l,{}),e.jsx("p",{children:"No courses found"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>v(!0),style:{marginTop:16},children:"Create First Course"})]}):e.jsx("div",{className:"content-table-wrapper",children:e.jsxs("table",{className:"content-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Duration"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:S.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.title}),e.jsx("td",{children:s.category}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${s.level.toLowerCase()}`,children:s.level})}),e.jsx("td",{children:s.duration}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${s.status}`,children:s.status})}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"action-btn",onClick:()=>(e=>{b(e),C({title:e.title,description:e.description,shortDescription:e.shortDescription||"",category:e.category,level:e.level,duration:e.duration,totalHours:e.totalHours||0,coverImage:e.coverImage||"",prerequisites:e.prerequisites?.join(", ")||"",skills:e.skills?.join(", ")||"",price:e.price||0,discountPrice:e.discountPrice||0,instructor:e.instructor||"",maxStudents:e.maxStudents||20,status:e.status,featured:e.featured}),v(!0)})(s),children:e.jsx(n,{})}),e.jsx("button",{className:"action-btn delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this course?"))try{await r.delete(`/admin/courses/${e}`),w()}catch(s){}})(s._id),children:e.jsx(o,{})})]})})]},s._id))})]})}),j&&e.jsx("div",{className:"modal-overlay",onClick:k,children:e.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:g?"Edit Course":"New Course"}),e.jsx("button",{className:"modal-close",onClick:k,children:e.jsx(c,{})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e={...N,prerequisites:N.prerequisites.split(",").map(e=>e.trim()).filter(Boolean),skills:N.skills.split(",").map(e=>e.trim()).filter(Boolean)};g?await r.put(`/admin/courses/${g._id}`,e):await r.post("/admin/courses",e),w(),k()}catch(s){alert("Error saving course: "+(s.response?.data?.message||s.message))}},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:N.title,onChange:e=>C({...N,title:e.target.value}),required:!0})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:N.category,onChange:e=>C({...N,category:e.target.value}),children:[e.jsx("option",{value:"Robotics",children:"Robotics"}),e.jsx("option",{value:"IoT",children:"IoT"}),e.jsx("option",{value:"AI/ML",children:"AI/ML"}),e.jsx("option",{value:"Embedded Systems",children:"Embedded Systems"}),e.jsx("option",{value:"Drones",children:"Drones"}),e.jsx("option",{value:"3D Printing",children:"3D Printing"}),e.jsx("option",{value:"Programming",children:"Programming"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Level"}),e.jsxs("select",{value:N.level,onChange:e=>C({...N,level:e.target.value}),children:[e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration *"}),e.jsx("input",{type:"text",value:N.duration,onChange:e=>C({...N,duration:e.target.value}),placeholder:"8 weeks",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Hours"}),e.jsx("input",{type:"number",value:N.totalHours,onChange:e=>C({...N,totalHours:parseInt(e.target.value)||0})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Short Description"}),e.jsx("textarea",{value:N.shortDescription,onChange:e=>C({...N,shortDescription:e.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Description *"}),e.jsx("textarea",{value:N.description,onChange:e=>C({...N,description:e.target.value}),rows:4,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prerequisites (comma separated)"}),e.jsx("input",{type:"text",value:N.prerequisites,onChange:e=>C({...N,prerequisites:e.target.value}),placeholder:"Basic programming, Arduino basics"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Skills Learned (comma separated)"}),e.jsx("input",{type:"text",value:N.skills,onChange:e=>C({...N,skills:e.target.value}),placeholder:"C++, Robotics, Electronics"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Instructor"}),e.jsx("input",{type:"text",value:N.instructor,onChange:e=>C({...N,instructor:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Students"}),e.jsx("input",{type:"number",value:N.maxStudents,onChange:e=>C({...N,maxStudents:parseInt(e.target.value)||20})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price (₹)"}),e.jsx("input",{type:"number",value:N.price,onChange:e=>C({...N,price:parseInt(e.target.value)||0})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Discount Price (₹)"}),e.jsx("input",{type:"number",value:N.discountPrice,onChange:e=>C({...N,discountPrice:parseInt(e.target.value)||0})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cover Image URL"}),e.jsx("input",{type:"url",value:N.coverImage,onChange:e=>C({...N,coverImage:e.target.value})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:N.status,onChange:e=>C({...N,status:e.target.value}),children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,marginTop:30,whiteSpace:"nowrap"},children:[e.jsx("input",{type:"checkbox",checked:N.featured,onChange:e=>C({...N,featured:e.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),"Featured Course"]})})]}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:24},children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[e.jsx(d,{})," ",g?"Update":"Create"," Course"]}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:k,children:"Cancel"})]})]})]})})]})};export{u as default};
//# sourceMappingURL=CourseManager-tQoW4753.js.map
