import{j as e}from"./ui-B79sv0Rh.js";import{h as t,r as s}from"./vendor-BefrSIwx.js";import{n as a,_ as i,x as r,W as l,$ as o,a0 as n,G as c,a1 as d}from"./index-DpUjF_p5.js";import"./drei-Bucn9VWY.js";import"./three-DVpoEhjm.js";const h=()=>{const[h]=t(),[u,j]=s.useState([]),[p,x]=s.useState(!0),[m,g]=s.useState(!1),[v,b]=s.useState(null),[y,f]=s.useState(""),[N,C]=s.useState({title:"",description:"",shortDescription:"",category:"Robotics",coverImage:"",videoUrl:"",technologies:"",github:"",liveUrl:"",status:"ongoing",featured:!1});s.useEffect(()=>{w(),"new"===h.get("action")&&g(!0)},[h]);const w=async()=>{try{const e=await a.get("/admin/projects");j(e.data)}catch(e){}finally{x(!1)}},U=()=>{g(!1),b(null),C({title:"",description:"",shortDescription:"",category:"Robotics",coverImage:"",videoUrl:"",technologies:"",github:"",liveUrl:"",status:"ongoing",featured:!1})},S=u.filter(e=>e.title.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{children:[e.jsxs("div",{className:"admin-header",children:[e.jsx("h1",{className:"admin-title",children:"Project Management"}),e.jsx("div",{className:"admin-actions",children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>g(!0),children:[e.jsx(i,{})," Add Project"]})})]}),e.jsxs("div",{style:{marginBottom:24,position:"relative",maxWidth:400},children:[e.jsx(r,{style:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:y,onChange:e=>f(e.target.value),style:{width:"100%",padding:"12px 16px 12px 44px",background:"var(--bg-secondary)",border:"1px solid var(--border-primary)",borderRadius:"var(--radius-md)",color:"var(--text-primary)"}})]}),p?e.jsx("div",{className:"empty-state",children:"Loading..."}):0===S.length?e.jsxs("div",{className:"empty-state",children:[e.jsx(l,{}),e.jsx("p",{children:"No projects found"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>g(!0),style:{marginTop:16},children:"Create First Project"})]}):e.jsx("div",{className:"content-table-wrapper",children:e.jsxs("table",{className:"content-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Technologies"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:S.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.title}),e.jsx("td",{children:t.category}),e.jsxs("td",{style:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"},children:[t.technologies?.slice(0,3).join(", "),t.technologies?.length>3&&"..."]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${t.status}`,children:t.status})}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"action-btn",onClick:()=>(e=>{b(e),C({title:e.title,description:e.description,shortDescription:e.shortDescription||"",category:e.category,coverImage:e.coverImage||"",videoUrl:e.videoUrl||"",technologies:e.technologies?.join(", ")||"",github:e.github||"",liveUrl:e.liveUrl||"",status:e.status,featured:e.featured}),g(!0)})(t),children:e.jsx(o,{})}),e.jsx("button",{className:"action-btn delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this project?"))try{await a.delete(`/admin/projects/${e}`),w()}catch(t){}})(t._id),children:e.jsx(n,{})})]})})]},t._id))})]})}),m&&e.jsx("div",{className:"modal-overlay",onClick:U,children:e.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"modal-title",children:v?"Edit Project":"New Project"}),e.jsx("button",{className:"modal-close",onClick:U,children:e.jsx(c,{})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e={...N,technologies:N.technologies.split(",").map(e=>e.trim()).filter(Boolean)};v?await a.put(`/admin/projects/${v._id}`,e):await a.post("/admin/projects",e),w(),U()}catch(t){alert("Error saving project: "+(t.response?.data?.message||t.message))}},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:N.title,onChange:e=>C({...N,title:e.target.value}),required:!0})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:N.category,onChange:e=>C({...N,category:e.target.value}),children:[e.jsx("option",{value:"Robotics",children:"Robotics"}),e.jsx("option",{value:"IoT",children:"IoT"}),e.jsx("option",{value:"AI/ML",children:"AI/ML"}),e.jsx("option",{value:"Drones",children:"Drones"}),e.jsx("option",{value:"Automation",children:"Automation"}),e.jsx("option",{value:"Research",children:"Research"}),e.jsx("option",{value:"Student",children:"Student"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:N.status,onChange:e=>C({...N,status:e.target.value}),children:[e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"upcoming",children:"Upcoming"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Short Description"}),e.jsx("textarea",{value:N.shortDescription,onChange:e=>C({...N,shortDescription:e.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Description *"}),e.jsx("textarea",{value:N.description,onChange:e=>C({...N,description:e.target.value}),rows:4,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Technologies (comma separated)"}),e.jsx("input",{type:"text",value:N.technologies,onChange:e=>C({...N,technologies:e.target.value}),placeholder:"Arduino, Python, ROS, OpenCV"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cover Image URL"}),e.jsx("input",{type:"url",value:N.coverImage,onChange:e=>C({...N,coverImage:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Video URL (YouTube)"}),e.jsx("input",{type:"url",value:N.videoUrl,onChange:e=>C({...N,videoUrl:e.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GitHub URL"}),e.jsx("input",{type:"url",value:N.github,onChange:e=>C({...N,github:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Live Demo URL"}),e.jsx("input",{type:"url",value:N.liveUrl,onChange:e=>C({...N,liveUrl:e.target.value})})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,whiteSpace:"nowrap"},children:[e.jsx("input",{type:"checkbox",checked:N.featured,onChange:e=>C({...N,featured:e.target.checked}),style:{width:18,height:18,cursor:"pointer"}}),"Featured Project"]})}),e.jsxs("div",{style:{display:"flex",gap:12,marginTop:24},children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[e.jsx(d,{})," ",v?"Update":"Create"," Project"]}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:U,children:"Cancel"})]})]})]})})]})};export{h as default};
//# sourceMappingURL=ProjectManager-CgDx8ijN.js.map
