{"version":3,"file":"AdminDashboard-4UDgrqEj.js","sources":["../../src/pages/Admin/AdminDashboard.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { \r\n  FiFileText, FiCalendar, FiBook, FiBox, FiTool,\r\n  FiPlus, FiUsers\r\n} from 'react-icons/fi';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\n\r\nconst AdminDashboard = () => {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    blogs: 0,\r\n    events: 0,\r\n    courses: 0,\r\n    projects: 0,\r\n    facilities: 0,\r\n    total: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Check if user has permission for a specific section\r\n  const hasPermission = (permission) => {\r\n    if (user?.role === 'admin') return true;\r\n    if (user?.role === 'editor') {\r\n      return user.permissions?.includes(permission);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await api.get('/admin/stats');\r\n      setStats(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching stats:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // All possible stat cards with their required permissions\r\n  const allStatCards = [\r\n    { label: 'Blogs', value: stats.blogs, icon: FiFileText, color: '#00e5ff', path: '/admin/blogs', permission: 'blogs' },\r\n    { label: 'Events', value: stats.events, icon: FiCalendar, color: '#9d4edd', path: '/admin/events', permission: 'events' },\r\n    { label: 'Courses', value: stats.courses, icon: FiBook, color: '#00f5a0', path: '/admin/courses', permission: 'courses' },\r\n    { label: 'Projects', value: stats.projects, icon: FiBox, color: '#ff6b35', path: '/admin/projects', permission: 'projects' },\r\n    { label: 'Facilities', value: stats.facilities, icon: FiTool, color: '#ffd60a', path: '/admin/facilities', permission: 'facilities' },\r\n    { label: 'Users', value: stats.users || 0, icon: FiUsers, color: '#7b61ff', path: '/admin/users', permission: 'users' },\r\n  ];\r\n\r\n  // All possible quick actions with their required permissions\r\n  const allQuickActions = [\r\n    { label: 'Add Blog', icon: FiFileText, path: '/admin/blogs', action: 'new', permission: 'blogs' },\r\n    { label: 'Add Event', icon: FiCalendar, path: '/admin/events', action: 'new', permission: 'events' },\r\n    { label: 'Add Course', icon: FiBook, path: '/admin/courses', action: 'new', permission: 'courses' },\r\n    { label: 'Add Project', icon: FiBox, path: '/admin/projects', action: 'new', permission: 'projects' },\r\n    { label: 'Add Facility', icon: FiTool, path: '/admin/facilities', action: 'new', permission: 'facilities' },\r\n  ];\r\n\r\n  // Filter based on permissions\r\n  const statCards = allStatCards.filter(card => hasPermission(card.permission));\r\n  const quickActions = allQuickActions.filter(action => hasPermission(action.permission));\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"admin-header\">\r\n        <div>\r\n          <h1 className=\"admin-title\">Dashboard</h1>\r\n          <p style={{ color: 'var(--text-secondary)', marginTop: 4 }}>\r\n            Welcome back, {user?.name || 'Admin'}! \r\n            <span style={{ \r\n              marginLeft: 8, \r\n              fontSize: '0.8rem', \r\n              padding: '2px 8px', \r\n              background: user?.role === 'admin' ? 'rgba(0, 245, 160, 0.1)' : 'rgba(123, 97, 255, 0.1)',\r\n              color: user?.role === 'admin' ? 'var(--accent-green)' : '#7b61ff',\r\n              borderRadius: 4\r\n            }}>\r\n              {user?.role === 'admin' ? 'üõ°Ô∏è Admin' : '‚úèÔ∏è Editor'}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      {statCards.length > 0 && (\r\n        <div className=\"stats-grid\">\r\n          {statCards.map((stat) => (\r\n            <Link \r\n              key={stat.label} \r\n              to={stat.path}\r\n              className=\"stat-card\"\r\n              style={{ textDecoration: 'none' }}\r\n            >\r\n              <div className=\"stat-icon\" style={{ background: `${stat.color}20`, color: stat.color }}>\r\n                <stat.icon />\r\n              </div>\r\n              <div className=\"stat-value\">{loading ? '...' : stat.value}</div>\r\n              <div className=\"stat-label\">{stat.label}</div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Actions */}\r\n      {quickActions.length > 0 && (\r\n        <>\r\n          <div className=\"admin-header\" style={{ marginTop: 40 }}>\r\n            <h2 style={{ fontSize: '1.3rem', color: 'var(--text-primary)' }}>Quick Actions</h2>\r\n          </div>\r\n\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: 16 }}>\r\n            {quickActions.map((action) => (\r\n              <Link\r\n                key={action.label}\r\n                to={`${action.path}?action=${action.action}`}\r\n                className=\"stat-card\"\r\n                style={{ \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  gap: 12, \r\n                  padding: 20,\r\n                  textDecoration: 'none'\r\n                }}\r\n              >\r\n                <div className=\"stat-icon\" style={{ marginBottom: 0, width: 40, height: 40 }}>\r\n                  <FiPlus />\r\n                </div>\r\n                <span style={{ color: 'var(--text-primary)' }}>{action.label}</span>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"names":["AdminDashboard","user","useAuth","stats","setStats","useState","blogs","events","courses","projects","facilities","total","loading","setLoading","hasPermission","permission","role","permissions","includes","useEffect","fetchStats","async","response","api","get","data","error","allStatCards","label","value","icon","FiFileText","color","path","FiCalendar","FiBook","FiBox","FiTool","users","FiUsers","allQuickActions","action","statCards","filter","card","quickActions","children","jsx","className","jsxs","style","marginTop","name","marginLeft","fontSize","padding","background","borderRadius","length","map","stat","Link","to","textDecoration","Fragment","display","gridTemplateColumns","gap","alignItems","marginBottom","width","height","FiPlus"],"mappings":"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"}